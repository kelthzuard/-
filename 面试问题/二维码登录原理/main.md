# 二维码扫码登录原理

## pc端生成二维码等待扫描

- pc端向服务器发送自己的设备信息
- 服务器生成一个唯一的验证id，生成一个验证url，返回pc
- pc将该url转换为二维码展示
- pc端轮询服务端，检测状态变化

## 手机扫码

- 手机扫码，访问该地址，并且把自己的token携带发送往服务器
- 服务器收到后更新扫码状态为已扫描，并把一个临时token返回给手机端作为临时确认凭证
- pc端轮询到状态变化后改变成以扫描

## 手机确认

- 用户点击确认后将临时token发送往服务器
- 服务器创建一个pc端的登录token，并且更改状态为已确认
- pc端轮询到状态已确认后，请求到token，完成登录。